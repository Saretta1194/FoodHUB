{% extends "base.html" %}
{% block content %}
  <h1>{{ restaurant.name }}</h1>
  <p>{{ restaurant.address }}</p>

  {% regroup dishes by category as dishes_by_cat %}

  {% if dishes_by_cat %}
    {% for group in dishes_by_cat %}
      <h2>{{ group.grouper|default:"Uncategorized" }}</h2>
      <ul>
        {% for d in group.list %}
        <li>
          <strong>{{ d.name }}</strong> â€” {{ d.price|floatformat:2 }}
          {% if d.description %}<div>{{ d.description }}</div>{% endif %}
          <form method="post" action="{% url 'orders:cart_add' d.id %}" style="display:inline">
            {% csrf_token %}
            <button type="submit">Add to cart</button>
          </form>
        </li>
        {% endfor %}
      </ul>
    {% endfor %}
  {% else %}
    <p>No dishes available yet.</p>
  {% endif %}

  <p><a href="{% url 'restaurants:public_list' %}">&larr; Back to restaurants</a></p>
{% endblock %}
