{% extends "base.html" %}
{% load static %}
{% block content %}
<section class="py-5 text-center">
  <h1 class="display-6 mb-2">Welcome to FoodHub</h1>
  <p class="lead text-muted">Order from the best local restaurants, fast and easy.</p>
  <div class="mt-3">
    <a class="btn btn-primary me-2" href="{% url 'restaurants:public_list' %}">Browse restaurants</a>
    <a class="btn btn-outline-secondary" href="{% url 'orders:cart_detail' %}">View cart ({{ cart_item_count }})</a>
  </div>
</section>

{% if restaurants %}
  <h2 class="h5 mb-3">Popular restaurants</h2>
  <div class="row g-3">
    {% for r in restaurants %}
      <div class="col-12 col-md-6 col-lg-4">
        <div class="card h-100">
          {% if r.cover_image %}
            <img src="{{ r.cover_image.url }}" class="restaurant-card-img" alt="{{ r.name }}">
          {% else %}
            <img src="{% static 'img/placeholder.png' %}" class="restaurant-card-img" alt="{{ r.name }}">
          {% endif %}
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">{{ r.name }}</h5>
            <p class="card-text text-muted mb-3">{{ r.address }}</p>
            <a href="{% url 'restaurants:public_detail' r.id %}" class="btn btn-primary mt-auto">View menu</a>
          </div>
        </div>
      </div>
    {% endfor %}
  </div>
{% else %}
  <div class="alert alert-info">No restaurants available.</div>
{% endif %}
{% endblock %}
