{% extends "base.html" %}
{% load crispy_forms_tags %}
{% block content %}
<section class="form-page">
  <div class="card form-card">
    <div class="card-body p-4 p-md-5">
      <h1 class="h4 mb-3">My profile</h1>

      {# Form update profile with styling Bootstrap with crispy #}
      <form method="post" novalidate>
        {% csrf_token %}
        {{ form|crispy }}
        <div class="d-grid gap-2 mt-3">
          <button type="submit" class="btn btn-primary">Save changes</button>
        </div>
      </form>

      <hr class="my-4">

      {# section only view with users data #}
      <h2 class="h5 mb-3">Personal info</h2>
      <dl class="row mb-0">
        <dt class="col-sm-4">Username</dt>
        <dd class="col-sm-8">{{ user.username }}</dd>

        <dt class="col-sm-4">Email</dt>
        <dd class="col-sm-8">{{ user.email|default:"—" }}</dd>

        <dt class="col-sm-4">Phone</dt>
        <dd class="col-sm-8">{{ user.profile.phone|default:"—" }}</dd>

        <dt class="col-sm-4">Address</dt>
        <dd class="col-sm-8">{{ user.profile.address|default:"—" }}</dd>
      </dl>
    </div>
  </div>
</section>
{% endblock %}
