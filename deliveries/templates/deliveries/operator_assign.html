{% extends "base.html" %}
{% block content %}
<div class="container-narrow py-4">
  <h1 class="h4 mb-3">Assign rider — Order #{{ order.id }}</h1>

  <div class="card">
    <div class="card-body">
      <p class="mb-2">
        <strong>Restaurant:</strong> {{ order.restaurant.name }}<br>
        <strong>Customer:</strong> {{ order.user.username }}<br>
        <strong>Status:</strong> {{ order.status }}
      </p>

      <form method="post">
        {% csrf_token %}
        <div class="mb-3">
          <label for="rider_id" class="form-label">Select rider</label>
          <select name="rider_id" id="rider_id" class="form-select" required>
            <option value="" disabled selected>Choose a rider…</option>
            {% for u in riders %}
              <option value="{{ u.id }}"
                {% if delivery.rider and delivery.rider.id == u.id %}selected{% endif %}>
                {{ u.username }}
              </option>
            {% endfor %}
          </select>
        </div>

        <div class="d-flex gap-2">
          <button class="btn btn-primary" type="submit">Assign</button>
          <a href="{% url 'deliveries:operator_queue' %}" class="btn btn-outline-secondary">Cancel</a>
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}
